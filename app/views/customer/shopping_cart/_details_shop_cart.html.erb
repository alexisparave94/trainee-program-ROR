<tbody>
  <% order.order_lines.each.with_index do |order_line,i| %>
    <tr>
      <td style='vertical-align: middle'><%= i+1 %></td>
      <td style='text-align: center; vertical-align: middle'><%= order_line.product.name %></td>
      <td style='text-align: center; vertical-align: middle'><%= order_line.quantity %></td>
      <td style='vertical-align: middle'><%= format('$ %0.02f', order_line.price) %></td>
      <td style='vertical-align: middle'><%= format('$ %0.02f', order_line.total) %></td>
      <td style='text-align: center'>
        <%= link_to edit_customer_order_line_form_path(order_line, product_id: order_line.product.id), class:'btn btn-primary' do %>
          <i class="bi bi-pencil"></i>
        <% end %>
      </td>
      <td style='text-align: center'>
        <%= link_to [:customer, order_line], data: {turbo_method: :delete}, class:'btn btn-danger' do %>
          <i class="bi bi-trash"></i>
        <% end %>
      </td>
    </tr>
  <% end %>
</tbody>
<tfoot>
  <tr>
    <td colspan="7"><h5 class='mb-0'>Total: <%= format('$ %0.02f', order.calculate_total) %></h5></td>
  </tr>
</tfoot>